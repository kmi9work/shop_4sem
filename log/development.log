# Logfile created on Wed May 26 22:12:32 +0400 2010  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 22:43:18) [GET]
  Parameters: {"user_name"=>"operator"}
  [4;36;1mItem Load (768.4ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (292.6ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (60.7ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
Completed in 2291ms (View: 858, DB: 1122) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:44:22) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (72.3ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (31.2ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (11.0ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 257ms (View: 122, DB: 119) | 200 OK [http://localhost/items/show/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:45:01) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.7ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 55ms (View: 36, DB: 4) | 200 OK [http://localhost/items/show/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:45:18) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.8ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.6ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 61ms (View: 39, DB: 5) | 200 OK [http://localhost/items/show/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:46:19) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.6ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m

ActionView::TemplateError (undefined local variable or method `item' for #<ActionView::Base:0x1a098e8>) on line #59 of app/views/items/show.html.erb:
56:                               act = :plus_cat
57:                             end
58:                             link_to_remote image_tag("up.png"), 
59:                               :update => "rating#{item.id}", 
60:                               :url => {:action => act, :id => item.id}%></div> 
61:         <div class="plus"><%= if params['catalogue_id'].blank?
62:                               act = :minus

    app/views/items/show.html.erb:59
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (93.9ms)
Rendered rescues/_request_and_response (13.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:47:14) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.6ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.4ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m

ActionView::TemplateError (undefined local variable or method `act' for #<ActionView::Base:0x1a0d9ac>) on line #55 of app/views/items/show.html.erb:
52:       <td id="rating<%=@item.id%>"><%= @item.rating %> | 
53:         <div class="plus"><%= link_to_remote image_tag("up.png"), 
54:                               :update => "rating#{@item.id}", 
55:                               :url => {:action => act, :id => item.id}%></div> 
56:         <div class="plus"><%= link_to_remote image_tag("down.png"), 
57:                               :update => "rating#{@item.id}", 
58:                               :url => {:action => act, :id => item.id}%></div>

    app/views/items/show.html.erb:55
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (99.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:48:38) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.6ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 60ms (View: 41, DB: 4) | 200 OK [http://localhost/items/show/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 22:48:42) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"3", "_"=>""}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.6ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (35.9ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (36.4ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 18:48:42.436791', "rating" = 11 WHERE "id" = 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 101ms (View: 1, DB: 75) | 200 OK [http://localhost/items/plus/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:49:31) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (1.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.6ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.6ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 58ms (View: 37, DB: 5) | 200 OK [http://localhost/items/show/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 22:49:50) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.6ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 3) [0m
  [4;35;1mCatalogue Load (0.6ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 54ms (View: 34, DB: 4) | 200 OK [http://localhost/items/show/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 22:49:51) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"3", "_"=>""}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.6ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.5ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.4ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 18:49:51.587592', "rating" = 12 WHERE "id" = 3[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 29ms (View: 1, DB: 3) | 200 OK [http://localhost/items/plus/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#minus (for 127.0.0.1 at 2010-05-26 22:49:51) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"3", "_"=>""}
  [4;35;1mItem Load (1.8ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.6ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.7ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 18:49:52.003089', "rating" = 11 WHERE "id" = 3[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 30ms (View: 1, DB: 5) | 200 OK [http://localhost/items/minus/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 22:49:52) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"3", "_"=>""}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.6ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.4ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 18:49:52.487446', "rating" = 12 WHERE "id" = 3[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mCOMMIT[0m
Completed in 29ms (View: 1, DB: 4) | 200 OK [http://localhost/items/plus/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 22:49:52) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"3", "_"=>""}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.5ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.4ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 18:49:52.663245', "rating" = 13 WHERE "id" = 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 30ms (View: 1, DB: 3) | 200 OK [http://localhost/items/plus/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 22:49:52) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"3", "_"=>""}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.6ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.5ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 18:49:52.834825', "rating" = 14 WHERE "id" = 3[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Completed in 31ms (View: 2, DB: 4) | 200 OK [http://localhost/items/plus/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 22:50:34) [GET]
  Parameters: {"catalogue_id"=>"2"}
  [4;35;1mItem Load (2.3ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'2') [0m
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'2') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (2.6ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
Completed in 72ms (View: 58, DB: 6) | 200 OK [http://localhost/items/list?catalogue_id=2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 22:50:41) [GET]
  Parameters: {"catalogue_id"=>"2"}
  [4;36;1mItem Load (2.2ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'2') [0m
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'2') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
Completed in 44ms (View: 30, DB: 4) | 200 OK [http://localhost/items/list?catalogue_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 22:50:56) [GET]
  Parameters: {"catalogue_id"=>"2"}
  [4;35;1mItem Load (2.4ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'2') [0m
  [4;36;1mItem Load (0.9ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'2') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.1ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
Completed in 47ms (View: 32, DB: 5) | 200 OK [http://localhost/items/list?catalogue_id=2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:10:22) [GET]
  Parameters: {"catalogue_id"=>"2"}
  [4;36;1mItem Load (2.8ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'2') [0m
  [4;35;1mItem Load (1.0ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'2') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.0ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m

ActionView::TemplateError (String can't be coerced into Float) on line #35 of app/views/items/list.html.erb:
32:         <TD><%= item.name %></TD>
33:         <%= inline_menu(item) %>
34:         <td>
35:           <%= item.price ? item.price + "руб." : "Уточните у менеджера" %> 
36:         </td>
37:         <td>
38:           <%= item.quantity or "Нет в наличии"%>

    app/views/items/list.html.erb:35:in `+'
    app/views/items/list.html.erb:35
    app/views/items/list.html.erb:30:in `each'
    app/views/items/list.html.erb:30
    app/views/items/list.html.erb:2
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (102.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:11:09) [GET]
  Parameters: {"catalogue_id"=>"2"}
  [4;35;1mItem Load (2.2ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'2') [0m
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'2') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.3ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
Completed in 70ms (View: 53, DB: 9) | 200 OK [http://localhost/items/list?catalogue_id=2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 23:11:20) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mItem Load (1.0ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 7) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.6ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 7) [0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
Completed in 59ms (View: 38, DB: 5) | 200 OK [http://localhost/items/show/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 23:12:15) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 7) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (0.7ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 7) [0m
  [4;35;1mCatalogue Load (0.6ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
Completed in 58ms (View: 39, DB: 4) | 200 OK [http://localhost/items/show/7]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 23:12:28) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"7", "_"=>""}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.7ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.6ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.5ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 19:12:28.849580', "rating" = 11 WHERE "id" = 7[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mCOMMIT[0m
Completed in 89ms (View: 1, DB: 5) | 200 OK [http://localhost/items/plus/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 23:12:28) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"7", "_"=>""}
  [4;35;1mItem Load (0.7ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.5ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.5ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 19:12:28.936751', "rating" = 12 WHERE "id" = 7[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 29ms (View: 1, DB: 3) | 200 OK [http://localhost/items/plus/7]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#plus (for 127.0.0.1 at 2010-05-26 23:12:29) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"7", "_"=>""}
  [4;35;1mItem Load (0.8ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 7) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 2) [0m
  [4;36;1mCatalogue Exists (0.6ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 2' AND "catalogues".id <> 2) LIMIT 1[0m
  [4;35;1mItem Update (0.9ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 19:12:29.081479', "rating" = 13 WHERE "id" = 7[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 34ms (View: 1, DB: 4) | 200 OK [http://localhost/items/plus/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:12:50) [GET]
  Parameters: {"catalogue_id"=>"2"}
  [4;35;1mItem Load (2.2ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'2') [0m
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'2') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.0ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
Completed in 118ms (View: 101, DB: 9) | 200 OK [http://localhost/items/list?catalogue_id=2]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:12:55) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "catalogue_id"=>""}
  [4;35;1mItem Load (2.1ms)[0m   [0mSELECT * FROM "items" [0m
  [4;36;1mItem Load (1.1ms)[0m   [0;1mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.0ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (13.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.4ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
Completed in 90ms (View: 57, DB: 24) | 200 OK [http://localhost/items/list]
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:13:10) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "catalogue_id"=>"1"}
  [4;36;1mItem Load (2.2ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'1') [0m
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'1') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.2ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
Completed in 57ms (View: 43, DB: 8) | 200 OK [http://localhost/items/list]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:13:19) [GET]
  Parameters: {"user_name"=>"anonimus"}
  [4;36;1mItem Load (1.9ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (1.0ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mItemStorage Load (0.2ms)[0m   [0;1mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
Completed in 69ms (View: 49, DB: 11) | 200 OK [http://localhost/anonimus]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#show (for 127.0.0.1 at 2010-05-26 23:13:21) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mItem Load (0.9ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT min("items".rating) AS min_rating FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT min("items".rating_cat) AS min_rating_cat FROM "items" [0m
Rendering template within layouts/operator_layout
Rendering items/show
  [4;36;1mProperty Load (2.9ms)[0m   [0;1mSELECT * FROM "properties" WHERE ("properties".item_id = 2) [0m
  [4;35;1mCatalogue Load (2.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 97ms (View: 73, DB: 9) | 200 OK [http://localhost/items/show/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:13:23) [GET]
  Parameters: {"catalogue_id"=>"1"}
  [4;35;1mItem Load (2.1ms)[0m   [0mSELECT * FROM "items" WHERE (catalogue_id = E'1') [0m
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" WHERE (catalogue_id = E'1') ORDER BY rating_cat DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.0ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mItemStorage Load (0.2ms)[0m   [0;1mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
Completed in 101ms (View: 86, DB: 7) | 200 OK [http://localhost/items/list?catalogue_id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:13:27) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "catalogue_id"=>""}
  [4;35;1mItem Load (1.8ms)[0m   [0mSELECT * FROM "items" [0m
  [4;36;1mItem Load (1.2ms)[0m   [0;1mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.2ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.3ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (1.1ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
Completed in 72ms (View: 51, DB: 13) | 200 OK [http://localhost/items/list]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#buy (for 127.0.0.1 at 2010-05-26 23:13:37) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mItem Load (0.8ms)[0m   [0;1mSELECT * FROM "items" WHERE ("items"."id" = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCatalogue Load (0.5ms)[0m   [0;1mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 1) [0m
  [4;35;1mCatalogue Exists (0.6ms)[0m   [0mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 1' AND "catalogues".id <> 1) LIMIT 1[0m
  [4;36;1mItem Update (0.7ms)[0m   [0;1mUPDATE "items" SET "updated_at" = '2010-05-26 19:13:37.553067', "rating" = 41 WHERE "id" = 2[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Completed in 32ms (View: 1, DB: 4) | 200 OK [http://localhost/items/buy/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:18:25) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "catalogue_id"=>""}
  [4;36;1mItem Load (1.8ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (1.2ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.3ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.9ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.2ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.5ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 131ms (View: 110, DB: 13) | 200 OK [http://localhost/items/list]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Wed May 26 23:25:18 +0400 2010
  Status: 500 Internal Server Error
  /Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/helpers/application_helper.rb:47: syntax error, unexpected kELSE, expecting kEND
/Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/helpers/application_helper.rb:61: syntax error, unexpected $end, expecting kEND
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:379:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:259:in `require_or_load'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:224:in `depend_on'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:136:in `require_dependency'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/helpers.rb:212:in `__send__'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/helpers.rb:212:in `inherited'
    /Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/controllers/application_controller.rb:4
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:379:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:259:in `require_or_load'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:80:in `const_missing'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:92:in `const_missing'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /opt/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
    /opt/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /opt/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m
/!\ FAILSAFE /!\  Wed May 26 23:25:23 +0400 2010
  Status: 500 Internal Server Error
  /Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/helpers/application_helper.rb:47: syntax error, unexpected kELSE, expecting kEND
/Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/helpers/application_helper.rb:61: syntax error, unexpected $end, expecting kEND
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:379:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:259:in `require_or_load'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:224:in `depend_on'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:136:in `require_dependency'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/helpers.rb:197:in `default_helper_module!'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/helpers.rb:212:in `__send__'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/helpers.rb:212:in `inherited'
    /Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/controllers/application_controller.rb:4
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:379:in `load_file'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:259:in `require_or_load'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:80:in `const_missing'
    /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:92:in `const_missing'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /opt/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /opt/local/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
    /opt/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /opt/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:26:58) [GET]
  [4;35;1mItem Load (1.9ms)[0m   [0mSELECT * FROM "items" [0m
  [4;36;1mItem Load (1.1ms)[0m   [0;1mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.1ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mItemStorage Load (0.3ms)[0m   [0;1mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 78ms (View: 59, DB: 10) | 200 OK [http://localhost/items/list]
  [4;36;1mSQL (2.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:27:05) [GET]
  Parameters: {"user_name"=>"operator"}
  [4;36;1mItem Load (1.8ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (1.2ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.2ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 80ms (View: 59, DB: 13) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:27:27) [GET]
  Parameters: {"user_name"=>"anonimus"}
  [4;35;1mItem Load (2.0ms)[0m   [0mSELECT * FROM "items" [0m
  [4;36;1mItem Load (0.9ms)[0m   [0;1mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (2.8ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mItemStorage Load (0.2ms)[0m   [0;1mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 66ms (View: 46, DB: 12) | 200 OK [http://localhost/anonimus]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:47:31) [GET]
  Parameters: {"user_name"=>"anonimus"}
  [4;36;1mItem Load (1.9ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (1.3ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.2ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.8ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 74ms (View: 53, DB: 12) | 200 OK [http://localhost/anonimus]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:50:05) [GET]
  Parameters: {"user_name"=>"anonimus"}
  [4;35;1mItem Load (1.8ms)[0m   [0mSELECT * FROM "items" [0m
  [4;36;1mItem Load (1.0ms)[0m   [0;1mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.3ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mItemPeriod Load (0.6ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mItemStorage Load (0.2ms)[0m   [0;1mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mItemPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mItemPeriod Load (0.4ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 75ms (View: 53, DB: 13) | 200 OK [http://localhost/anonimus]
  [4;36;1mSQL (4.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:50:11) [GET]
  Parameters: {"user_name"=>"operator"}
  [4;36;1mItem Load (1.8ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (1.0ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.3ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
Completed in 81ms (View: 61, DB: 15) | 200 OK [http://localhost/operator]
  [4;35;1mSQL (0.2ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#buy (for 127.0.0.1 at 2010-05-26 23:50:21) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"1", "_"=>""}
  [4;35;1mItem Load (0.6ms)[0m   [0mSELECT * FROM "items" WHERE ("items"."id" = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCatalogue Load (0.5ms)[0m   [0mSELECT * FROM "catalogues" WHERE ("catalogues"."id" = 1) [0m
  [4;36;1mCatalogue Exists (0.5ms)[0m   [0;1mSELECT "catalogues".id FROM "catalogues" WHERE ("catalogues"."name" = E'Catalogue 1' AND "catalogues".id <> 1) LIMIT 1[0m
  [4;35;1mItem Update (0.5ms)[0m   [0mUPDATE "items" SET "updated_at" = '2010-05-26 19:50:21.036265', "rating" = 51 WHERE "id" = 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Completed in 28ms (View: 1, DB: 3) | 200 OK [http://localhost/items/buy/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'panic'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-26 23:50:27) [GET]
  Parameters: {"user_name"=>"anonimus"}
  [4;35;1mItem Load (1.8ms)[0m   [0mSELECT * FROM "items" [0m
  [4;36;1mItem Load (0.9ms)[0m   [0;1mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;35;1mCatalogue Load (1.6ms)[0m   [0mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mItemPeriod Load (0.5ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mItemPeriod Load (0.3ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mItemPeriod Load (0.5ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;35;1mItemStorage Load (0.2ms)[0m   [0mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
Completed in 130ms (View: 111, DB: 11) | 200 OK [http://localhost/anonimus]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#buy (for 127.0.0.1 at 2010-05-27 00:02:36) [POST]
  Parameters: {"authenticity_token"=>"Lfihc/ZJJK82qjFfCTBORPiAlNxUhkODxcrIkeO9ZfI=", "id"=>"6", "_"=>""}

SyntaxError (/Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/controllers/items_controller.rb:8: syntax error, unexpected ']', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
        item[:] +=1
               ^):
  /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ApplicationController#list (for 127.0.0.1 at 2010-05-27 00:02:45) [GET]
  Parameters: {"user_name"=>"anonimus"}

SyntaxError (/Users/MichaelKostekchuk/Documents/Workspace/msiu/4sem/luck-va/shop_4sem/app/controllers/items_controller.rb:8: syntax error, unexpected ']', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
        item[:] +=1
               ^):
  /opt/local/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /opt/local/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /opt/local/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /opt/local/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /opt/local/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /opt/local/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (88.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET client_min_messages TO 'panic'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET client_min_messages TO 'notice'[0m


Processing ItemsController#list (for 127.0.0.1 at 2010-05-27 00:03:08) [GET]
  Parameters: {"user_name"=>"anonimus"}
  [4;36;1mItem Load (1.9ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mItem Load (1.1ms)[0m   [0mSELECT * FROM "items" ORDER BY rating DESC LIMIT 3[0m
Rendering template within layouts/operator_layout
Rendering items/list
  [4;36;1mCatalogue Load (1.1ms)[0m   [0;1mSELECT * FROM "catalogues" ORDER BY name[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;36;1mItemPeriod Load (0.4ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 6) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 6) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 3) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 7) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 7) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;35;1mItemPeriod Load (0.2ms)[0m   [0mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 2) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;36;1mItemPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM "item_periods" WHERE ("item_periods".item_id = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
  [4;36;1mItemStorage Load (0.2ms)[0m   [0;1mSELECT * FROM "item_storages" WHERE ("item_storages".item_id = 1) [0m
Completed in 70ms (View: 49, DB: 13) | 200 OK [http://localhost/anonimus]
